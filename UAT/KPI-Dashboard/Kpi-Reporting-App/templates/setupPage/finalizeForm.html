<form class="setup-finalize-form" name="finalizeForm">
    <div ng-if="!setupData.existingPlan">
        <div ng-if="usersForm.$valid && !setupData.emptyUsersArray">
            <button class="button-big" ng-click="saveSetup()">Confirm</button>
        </div>
        <div ng-if="!usersForm.$valid || setupData.emptyUsersArray">
            <button class="button-big disabled" disabled>Invalid data</button>
        </div>
    </div>

    <div ng-if="setupData.existingPlan">
        <span ng-if="setupData.unAllocatedTestCasesCount + setupData.expiredNonFinalTestCasesCount > 0 && data.config.isParked == 0">
            <button class="button-big" ng-click="saveSetup()">Allocate Test Cases</button>
        </span>
        <span ng-if="!setupData.planResetPrompt">
            <button class="button-big" ng-click="setupData.planResetPrompt = true">Reset</button>
        </span>
        <div ng-if="setupData.planResetPrompt">
            <select class="extension-reason bold" ng-options="reason.description for reason in setupData.reasons track by reason.id"
                    ng-model="setupData.selectedReason" required></select>
            <input class="extension-description bold" type="text" placeholder="Description"
                   ng-model="setupData.selectedReason.explanation">
            <div>
                <button class="test-case-button-big" ng-click="clearResetReasonChoice()">&#x2718;</button>
                <button class="test-case-button-big font-green"
                        ng-if="setupData.selectedReason.id && setupData.selectedReason.explanation.length > 5"
                        ng-click="resetSetup()">&#x2714;</button>
            </div>
        </div>
    </div>
</form>